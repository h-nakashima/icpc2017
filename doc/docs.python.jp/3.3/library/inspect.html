<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>28.12. inspect — 活動中のオブジェクトの情報を取得する &mdash; Python 3.3.6 ドキュメント</title>
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.3.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 3.3.6 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 3.3.6 ドキュメント" href="../contents.html" />
    <link rel="up" title="28. Python ランタイムサービス" href="python.html" />
    <link rel="next" title="28.13. site — サイト固有の設定フック" href="site.html" />
    <link rel="prev" title="28.11. gc — ガベージコレクタインターフェース" href="gc.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/_jp.js"></script>
    <script type="text/javascript" src="../_static/version_switch.js"></script>
    
 

  <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-34175846-1', 'python.jp');
        ga('send', 'pageview');

      </script>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="site.html" title="28.13. site — サイト固有の設定フック"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="gc.html" title="28.11. gc — ガベージコレクタインターフェース"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.org/">Python</a> &raquo;</li>
        <li>
          <span class="version_switcher_placeholder">3.3.6</span>
          <a href="../index.html">Documentation</a> &raquo;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="python.html" accesskey="U">28. Python ランタイムサービス</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-inspect">
<span id="inspect-inspect-live-objects"></span><h1>28.12. <a class="reference internal" href="#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal"><span class="pre">inspect</span></code></a> &#8212; 活動中のオブジェクトの情報を取得する<a class="headerlink" href="#module-inspect" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><strong>Source code:</strong> <a class="reference external" href="http://hg.python.org/cpython/file/3.3/Lib/inspect.py">Lib/inspect.py</a></p>
<hr class="docutils" />
<p><a class="reference internal" href="#module-inspect" title="inspect: Extract information and source code from live objects."><code class="xref py py-mod docutils literal"><span class="pre">inspect</span></code></a> は、活動中のオブジェクト (モジュール、クラス、メソッド、関数、トレースバック、フレームオブジェクト、コードオブジェクトなど) から情報を取得する関数を定義しており、クラスの内容を調べたり、メソッドのソースコードを取得したり、関数の引数リストを取り出して整形したり、詳細なトレースバックを表示するのに必要な情報を取得したりするために利用できます。</p>
<p>このモジュールの機能は4種類に分類することができます。型チェック、ソースコードの情報取得、クラスや関数からの情報取得、インタープリタのスタック情報の調査です。</p>
<div class="section" id="types-and-members">
<span id="inspect-types"></span><h2>28.12.1. 型とメンバー<a class="headerlink" href="#types-and-members" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#inspect.getmembers" title="inspect.getmembers"><code class="xref py py-func docutils literal"><span class="pre">getmembers()</span></code></a> は、クラスやモジュールなどのオブジェクトからメンバーを取得します。名前が&#8221;is&#8221;で始まる16個の関数は、主に <a class="reference internal" href="#inspect.getmembers" title="inspect.getmembers"><code class="xref py py-func docutils literal"><span class="pre">getmembers()</span></code></a> の第2引数として利用するために提供されています。以下のような特殊属性を参照できるかどうか調べる時にも使えるでしょう:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="31%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">型</p>
</th>
<th class="head"><p class="first last">属性</p>
</th>
<th class="head"><p class="first last">説明</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">モジュール</p>
</td>
<td>__doc__</td>
<td><p class="first last">ドキュメント文字列</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__file__</td>
<td><p class="first last">ファイル名 (組み込みモジュールには存在しません)</p>
</td>
</tr>
<tr class="row-even"><td>class</td>
<td>__doc__</td>
<td><p class="first last">ドキュメント文字列</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__module__</td>
<td><p class="first last">クラスを定義しているモジュールの名前</p>
</td>
</tr>
<tr class="row-even"><td>method</td>
<td>__doc__</td>
<td><p class="first last">ドキュメント文字列</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__name__</td>
<td><p class="first last">メソッドが定義された時の名前</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>__func__</td>
<td><p class="first last">メソッドを実装している関数オブジェクト</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__self__</td>
<td><p class="first last">メソッドに結合しているインスタンス、または <code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">関数</p>
</td>
<td>__doc__</td>
<td><p class="first last">ドキュメント文字列</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__name__</td>
<td><p class="first last">関数が定義された時の名前</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>__code__</td>
<td><p class="first last">関数をコンパイルしたバイトコード (<a class="reference internal" href="../glossary.html#term-bytecode"><span class="xref std std-term">bytecode</span></a>) を格納するコードオブジェクト</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__defaults__</td>
<td><p class="first last">引数のデフォルト値のタプル</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>__globals__</td>
<td><p class="first last">関数を定義した時のグローバル名前空間</p>
</td>
</tr>
<tr class="row-odd"><td>traceback</td>
<td>tb_frame</td>
<td><p class="first last">このレベルのフレームオブジェクト</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>tb_lasti</td>
<td><p class="first last">最後に実行しようとしたバイトコード中のインストラクションを示すインデックス</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>tb_lineno</td>
<td><p class="first last">現在の Python ソースコードの行番号</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>tb_next</td>
<td><p class="first last">このオブジェクトの内側 (このレベルから呼び出された) のトレースバックオブジェクト</p>
</td>
</tr>
<tr class="row-odd"><td>frame</td>
<td>f_back</td>
<td><p class="first last">外側 (このフレームを呼び出した) のフレームオブジェクト</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>f_builtins</td>
<td><p class="first last">このフレームで参照している組み込み名前空間</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>f_code</td>
<td><p class="first last">このフレームで実行しているコードオブジェクト</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>f_globals</td>
<td><p class="first last">このフレームで参照しているグローバル名前空間</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>f_lasti</td>
<td><p class="first last">最後に実行しようとしたバイトコード中のインストラクションを示すインデックス</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>f_lineno</td>
<td><p class="first last">現在の Python ソースコードの行番号</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>f_locals</td>
<td><p class="first last">このフレームで参照しているローカル名前空間</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>f_restricted</td>
<td><p class="first last">制限実行モードなら1、それ以外なら0</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>f_trace</td>
<td><p class="first last">このフレームのトレース関数、または <code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
<tr class="row-even"><td>code</td>
<td>co_argcount</td>
<td><p class="first last">引数の数 (* や ** 引数は含まない)</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_code</td>
<td><p class="first last">コンパイルされたバイトコードそのままの文字列</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>co_consts</td>
<td><p class="first last">バイトコード中で使用している定数のタプル</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_filename</td>
<td><p class="first last">コードオブジェクトを生成したファイルのファイル名</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>co_firstlineno</td>
<td><p class="first last">Python ソースコードの先頭行</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_flags</td>
<td><p class="first last">以下の値の組み合わせ: 1=optimized <code class="docutils literal"><span class="pre">|</span></code> 2=newlocals <code class="docutils literal"><span class="pre">|</span></code> 4=*arg <code class="docutils literal"><span class="pre">|</span></code> 8=**arg</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>co_lnotab</td>
<td><p class="first last">行番号からバイトコードインデックスへの変換表を文字列にエンコードしたもの</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_name</td>
<td><p class="first last">コードオブジェクトが定義されたときの名前</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>co_names</td>
<td><p class="first last">ローカル変数名のタプル</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_nlocals</td>
<td><p class="first last">ローカル変数の数</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>co_stacksize</td>
<td><p class="first last">必要とされる仮想マシンのスタックスペース</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>co_varnames</td>
<td><p class="first last">引数名とローカル変数名のタプル</p>
</td>
</tr>
<tr class="row-even"><td>builtin</td>
<td>__doc__</td>
<td><p class="first last">ドキュメント文字列</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>__name__</td>
<td><p class="first last">関数、メソッドの元々の名前</p>
</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>__self__</td>
<td><p class="first last">メソッドが結合しているインスタンス、または <code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="inspect.getmembers">
<code class="descclassname">inspect.</code><code class="descname">getmembers</code><span class="sig-paren">(</span><em>object</em><span class="optional">[</span>, <em>predicate</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getmembers" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトの全メンバーを、 (名前, 値) の組み合わせのリストで返します。リストはメンバー名でソートされています。 <em>predicate</em> が指定されている場合、 predicate の戻り値が真となる値のみを返します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last"><a class="reference internal" href="#inspect.getmembers" title="inspect.getmembers"><code class="xref py py-func docutils literal"><span class="pre">getmembers()</span></code></a> は、引数がクラスの場合にメタクラス属性を返しません (この動作は <a class="reference internal" href="functions.html#dir" title="dir"><code class="xref py py-func docutils literal"><span class="pre">dir()</span></code></a> 関数に合わせてあります)。</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getmoduleinfo">
<code class="descclassname">inspect.</code><code class="descname">getmoduleinfo</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getmoduleinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> <code class="docutils literal"><span class="pre">ModuleInfo(name,</span> <span class="pre">suffix,</span> <span class="pre">mode,</span> <span class="pre">module_type)</span></code>
of values that describe how Python will interpret the file identified by
<em>path</em> if it is a module, or <code class="docutils literal"><span class="pre">None</span></code> if it would not be identified as a
module.  In that tuple, <em>name</em> is the name of the module without the name of
any enclosing package, <em>suffix</em> is the trailing part of the file name (which
may not be a dot-delimited extension), <em>mode</em> is the <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-func docutils literal"><span class="pre">open()</span></code></a> mode that
would be used (<code class="docutils literal"><span class="pre">'r'</span></code> or <code class="docutils literal"><span class="pre">'rb'</span></code>), and <em>module_type</em> is an integer giving
the type of the module.  <em>module_type</em> will have a value which can be
compared to the constants defined in the <a class="reference internal" href="imp.html#module-imp" title="imp: Access the implementation of the import statement."><code class="xref py py-mod docutils literal"><span class="pre">imp</span></code></a> module; see the
documentation for that module for more information on module types.</p>
<div class="deprecated">
<p><span class="versionmodified">バージョン 3.3 で撤廃: </span>You may check the file path&#8217;s suffix against the supported suffixes
listed in <a class="reference internal" href="importlib.html#module-importlib.machinery" title="importlib.machinery: Importers and path hooks"><code class="xref py py-mod docutils literal"><span class="pre">importlib.machinery</span></code></a> to infer the same information.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getmodulename">
<code class="descclassname">inspect.</code><code class="descname">getmodulename</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getmodulename" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Return the name of the module named by the file <em>path</em>, without including the
names of enclosing packages. The file extension is checked against all of
the entries in <a class="reference internal" href="importlib.html#importlib.machinery.all_suffixes" title="importlib.machinery.all_suffixes"><code class="xref py py-func docutils literal"><span class="pre">importlib.machinery.all_suffixes()</span></code></a>. If it matches,
the final path component is returned with the extension removed.
Otherwise, <code class="docutils literal"><span class="pre">None</span></code> is returned.</p>
<p>Note that this function <em>only</em> returns a meaningful name for actual
Python modules - paths that potentially refer to Python packages will
still return <code class="docutils literal"><span class="pre">None</span></code>.</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 3.3 で変更: </span>This function is now based directly on <a class="reference internal" href="importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal"><span class="pre">importlib</span></code></a> rather than the
deprecated <a class="reference internal" href="#inspect.getmoduleinfo" title="inspect.getmoduleinfo"><code class="xref py py-func docutils literal"><span class="pre">getmoduleinfo()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.ismodule">
<code class="descclassname">inspect.</code><code class="descname">ismodule</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.ismodule" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがモジュールの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isclass">
<code class="descclassname">inspect.</code><code class="descname">isclass</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isclass" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが、ビルトインもしくは Python で作られたクラスの場合に真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.ismethod">
<code class="descclassname">inspect.</code><code class="descname">ismethod</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.ismethod" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがメソッドの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isfunction">
<code class="descclassname">inspect.</code><code class="descname">isfunction</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isfunction" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが Python の関数(<a class="reference internal" href="../glossary.html#term-lambda"><span class="xref std std-term">lambda</span></a> 式で生成されたものを含む) である場合に真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isgeneratorfunction">
<code class="descclassname">inspect.</code><code class="descname">isgeneratorfunction</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isgeneratorfunction" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>object</em> が Python のジェネレータ関数であるときに真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isgenerator">
<code class="descclassname">inspect.</code><code class="descname">isgenerator</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isgenerator" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>object</em> がジェネレータであるときに真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.istraceback">
<code class="descclassname">inspect.</code><code class="descname">istraceback</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.istraceback" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがトレースバックの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isframe">
<code class="descclassname">inspect.</code><code class="descname">isframe</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isframe" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがフレームの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.iscode">
<code class="descclassname">inspect.</code><code class="descname">iscode</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.iscode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがコードの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isbuiltin">
<code class="descclassname">inspect.</code><code class="descname">isbuiltin</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isbuiltin" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが組み込み関数か束縛済みのビルトインメソッドの場合に真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isroutine">
<code class="descclassname">inspect.</code><code class="descname">isroutine</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isroutine" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがユーザ定義か組み込みの関数またはメソッドの場合は真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isabstract">
<code class="descclassname">inspect.</code><code class="descname">isabstract</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isabstract" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>object</em> が抽象規定型 (ABC) であるときに真を返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.ismethoddescriptor">
<code class="descclassname">inspect.</code><code class="descname">ismethoddescriptor</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.ismethoddescriptor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがメソッドデスクリプタであり、 <a class="reference internal" href="#inspect.ismethod" title="inspect.ismethod"><code class="xref py py-func docutils literal"><span class="pre">ismethod()</span></code></a>, <a class="reference internal" href="#inspect.isclass" title="inspect.isclass"><code class="xref py py-func docutils literal"><span class="pre">isclass()</span></code></a>, <a class="reference internal" href="#inspect.isfunction" title="inspect.isfunction"><code class="xref py py-func docutils literal"><span class="pre">isfunction()</span></code></a>, <a class="reference internal" href="#inspect.isbuiltin" title="inspect.isbuiltin"><code class="xref py py-func docutils literal"><span class="pre">isbuiltin()</span></code></a> でない場合に真を返します。</p>
<p>この機能は、例えば <code class="docutils literal"><span class="pre">int.__add__</span></code> は真になります。このテストをパスするオブジェクトは <code class="xref py py-attr docutils literal"><span class="pre">__get__</span></code> 属性を持ちますが <code class="xref py py-attr docutils literal"><span class="pre">__set__</span></code> 属性を持ちません。それ以外の属性を持っているかもしれません。通常 <code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code> を持っていますし、しばしば <code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code> も持っています。</p>
<p>デスクリプタを使って実装されたメソッドで、上記のいずれかのテストもパスしているものは、 <a class="reference internal" href="#inspect.ismethoddescriptor" title="inspect.ismethoddescriptor"><code class="xref py py-func docutils literal"><span class="pre">ismethoddescriptor()</span></code></a> では偽を返します。これは単に他のテストの方がもっと確実だからです &#8211; 例えば、 <a class="reference internal" href="#inspect.ismethod" title="inspect.ismethod"><code class="xref py py-func docutils literal"><span class="pre">ismethod()</span></code></a> をパスしたオブジェクトは <code class="xref py py-attr docutils literal"><span class="pre">__func__</span></code> 属性などを持っていると期待できます。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isdatadescriptor">
<code class="descclassname">inspect.</code><code class="descname">isdatadescriptor</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isdatadescriptor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがデータデスクリプタの場合に真を返します。</p>
<p>データデスクリプタは <code class="xref py py-attr docutils literal"><span class="pre">__get__</span></code> および <code class="xref py py-attr docutils literal"><span class="pre">__set__</span></code> 属性の両方を持ちます。データデスクリプタの例は (Python 上で定義された) プロパティや getset やメンバーです。後者のふたつは C で定義されており、個々の型に特有のテストも行います。そのため、Python の実装よりもより確実です。通常、データデスクリプタは <code class="xref py py-attr docutils literal"><span class="pre">__name__</span></code> や <code class="xref py py-attr docutils literal"><span class="pre">__doc__</span></code>  属性を持ちます (プロパティ、 getset 、メンバーは両方の属性を持っています) が、保証されているわけではありません。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.isgetsetdescriptor">
<code class="descclassname">inspect.</code><code class="descname">isgetsetdescriptor</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.isgetsetdescriptor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが getset デスクリプタの場合に真を返します。</p>
<div class="impl-detail compound">
<p>getset とは、拡張モジュールで <code class="xref c c-type docutils literal"><span class="pre">PyGetSetDef</span></code> 構造体を用いて定義された属性のことです。そのような型を持たない Python 実装の場合は、このメソッドは常に <code class="docutils literal"><span class="pre">False</span></code> を返します。</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.ismemberdescriptor">
<code class="descclassname">inspect.</code><code class="descname">ismemberdescriptor</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.ismemberdescriptor" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがメンバーデスクリプタの場合に真を返します。</p>
<div class="impl-detail compound">
<p>メンバーデスクリプタとは、拡張モジュールで <a class="reference internal" href="../c-api/structures.html#c.PyMemberDef" title="PyMemberDef"><code class="xref c c-type docutils literal"><span class="pre">PyMemberDef</span></code></a> 構造体を用いて定義された属性のことです。そのような型を持たない Python 実装の場合は、このメソッドは常に <code class="docutils literal"><span class="pre">False</span></code> を返します。</p>
</div>
</dd></dl>

</div>
<div class="section" id="retrieving-source-code">
<span id="inspect-source"></span><h2>28.12.2. ソースコードの情報取得<a class="headerlink" href="#retrieving-source-code" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="function">
<dt id="inspect.getdoc">
<code class="descclassname">inspect.</code><code class="descname">getdoc</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getdoc" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#inspect.cleandoc" title="inspect.cleandoc"><code class="xref py py-func docutils literal"><span class="pre">cleandoc()</span></code></a> でクリーンアップされた、オブジェクトのドキュメンテーション文字列を取得します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getcomments">
<code class="descclassname">inspect.</code><code class="descname">getcomments</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getcomments" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトがクラス、関数、メソッドのいずれかの場合は、オブジェクトのソースコードの直後にあるコメント行 (複数行) を、単一の文字列として返します。オブジェクトがモジュールの場合、ソースファイルの先頭にあるコメントを返します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getfile">
<code class="descclassname">inspect.</code><code class="descname">getfile</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getfile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトを定義している (テキストまたはバイナリの) ファイルの名前を返します。オブジェクトが組み込みモジュール、クラス、関数の場合は <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> 例外が発生します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getmodule">
<code class="descclassname">inspect.</code><code class="descname">getmodule</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getmodule" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトを定義しているモジュールを推測します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getsourcefile">
<code class="descclassname">inspect.</code><code class="descname">getsourcefile</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getsourcefile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトを定義している Python ソースファイルの名前を返します。オブジェクトが組み込みのモジュール、クラス、関数の場合には、 <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> 例外が発生します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getsourcelines">
<code class="descclassname">inspect.</code><code class="descname">getsourcelines</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getsourcelines" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトのソース行のリストと開始行番号を返します。引数にはモジュール、クラス、メソッド、関数、トレースバック、フレーム、コードオブジェクトを指定することができます。戻り値は指定したオブジェクトに対応するソースコードのソース行リストと元のソースファイル上での開始行となります。ソースコードを取得できない場合は <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code></a> が発生します。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 3.3 で変更: </span><a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code></a> is raised instead of <a class="reference internal" href="exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code></a>, now an alias of the
former.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getsource">
<code class="descclassname">inspect.</code><code class="descname">getsource</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getsource" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトのソースコードを返します。引数にはモジュール、クラス、メソッド、関数、トレースバック、フレーム、コードオブジェクトを指定することができます。ソースコードは単一の文字列で返します。ソースコードを取得できない場合は <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code></a> が発生します。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 3.3 で変更: </span><a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal"><span class="pre">OSError</span></code></a> is raised instead of <a class="reference internal" href="exceptions.html#IOError" title="IOError"><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code></a>, now an alias of the
former.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.cleandoc">
<code class="descclassname">inspect.</code><code class="descname">cleandoc</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.cleandoc" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インデントされた docstring から、コードブロックまでのインデントを削除します。 2行目以降では行頭の空白は一様に削除されます。全てのタブはスペースに展開されます。</p>
</dd></dl>

</div>
<div class="section" id="introspecting-callables-with-the-signature-object">
<span id="inspect-signature-object"></span><h2>28.12.3. Introspecting callables with the Signature object<a class="headerlink" href="#introspecting-callables-with-the-signature-object" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.3 で追加.</span></p>
</div>
<p>The Signature object represents the call signature of a callable object and its
return annotation.  To retrieve a Signature object, use the <a class="reference internal" href="#inspect.signature" title="inspect.signature"><code class="xref py py-func docutils literal"><span class="pre">signature()</span></code></a>
function.</p>
<dl class="function">
<dt id="inspect.signature">
<code class="descclassname">inspect.</code><code class="descname">signature</code><span class="sig-paren">(</span><em>callable</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.signature" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#inspect.Signature" title="inspect.Signature"><code class="xref py py-class docutils literal"><span class="pre">Signature</span></code></a> object for the given <code class="docutils literal"><span class="pre">callable</span></code>:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">inspect</span> <span class="k">import</span> <span class="n">signature</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="go">&#39;(a, *, b:int, **kwargs)&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">])</span>
<span class="go">&#39;b:int&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span>
<span class="go">&lt;class &#39;int&#39;&gt;</span>
</pre></div>
</div>
<p>Accepts a wide range of python callables, from plain functions and classes to
<a class="reference internal" href="functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal"><span class="pre">functools.partial()</span></code></a> objects.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Some callables may not be introspectable in certain implementations of
Python.  For example, in CPython, built-in functions defined in C provide
no metadata about their arguments.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="inspect.Signature">
<em class="property">class </em><code class="descclassname">inspect.</code><code class="descname">Signature</code><span class="sig-paren">(</span><em>parameters=None</em>, <em>*</em>, <em>return_annotation=Signature.empty</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Signature" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>A Signature object represents the call signature of a function and its return
annotation.  For each parameter accepted by the function it stores a
<a class="reference internal" href="#inspect.Parameter" title="inspect.Parameter"><code class="xref py py-class docutils literal"><span class="pre">Parameter</span></code></a> object in its <a class="reference internal" href="#inspect.Signature.parameters" title="inspect.Signature.parameters"><code class="xref py py-attr docutils literal"><span class="pre">parameters</span></code></a> collection.</p>
<p>The optional <em>parameters</em> argument is a sequence of <a class="reference internal" href="#inspect.Parameter" title="inspect.Parameter"><code class="xref py py-class docutils literal"><span class="pre">Parameter</span></code></a>
objects, which is validated to check that there are no parameters with
duplicate names, and that the parameters are in the right order, i.e.
positional-only first, then positional-or-keyword, and that parameters with
defaults follow parameters without defaults.</p>
<p>The optional <em>return_annotation</em> argument, can be an arbitrary Python object,
is the &#8220;return&#8221; annotation of the callable.</p>
<p>Signature objects are <em>immutable</em>.  Use <a class="reference internal" href="#inspect.Signature.replace" title="inspect.Signature.replace"><code class="xref py py-meth docutils literal"><span class="pre">Signature.replace()</span></code></a> to make a
modified copy.</p>
<dl class="attribute">
<dt id="inspect.Signature.empty">
<code class="descname">empty</code><a class="headerlink" href="#inspect.Signature.empty" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>A special class-level marker to specify absence of a return annotation.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Signature.parameters">
<code class="descname">parameters</code><a class="headerlink" href="#inspect.Signature.parameters" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>An ordered mapping of parameters&#8217; names to the corresponding
<a class="reference internal" href="#inspect.Parameter" title="inspect.Parameter"><code class="xref py py-class docutils literal"><span class="pre">Parameter</span></code></a> objects.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Signature.return_annotation">
<code class="descname">return_annotation</code><a class="headerlink" href="#inspect.Signature.return_annotation" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The &#8220;return&#8221; annotation for the callable.  If the callable has no &#8220;return&#8221;
annotation, this attribute is set to <a class="reference internal" href="#inspect.Signature.empty" title="inspect.Signature.empty"><code class="xref py py-attr docutils literal"><span class="pre">Signature.empty</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="inspect.Signature.bind">
<code class="descname">bind</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Signature.bind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Create a mapping from positional and keyword arguments to parameters.
Returns <a class="reference internal" href="#inspect.BoundArguments" title="inspect.BoundArguments"><code class="xref py py-class docutils literal"><span class="pre">BoundArguments</span></code></a> if <code class="docutils literal"><span class="pre">*args</span></code> and <code class="docutils literal"><span class="pre">**kwargs</span></code> match the
signature, or raises a <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="inspect.Signature.bind_partial">
<code class="descname">bind_partial</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Signature.bind_partial" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Works the same way as <a class="reference internal" href="#inspect.Signature.bind" title="inspect.Signature.bind"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind()</span></code></a>, but allows the omission of
some required arguments (mimics <a class="reference internal" href="functools.html#functools.partial" title="functools.partial"><code class="xref py py-func docutils literal"><span class="pre">functools.partial()</span></code></a> behavior.)
Returns <a class="reference internal" href="#inspect.BoundArguments" title="inspect.BoundArguments"><code class="xref py py-class docutils literal"><span class="pre">BoundArguments</span></code></a>, or raises a <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> if the
passed arguments do not match the signature.</p>
</dd></dl>

<dl class="method">
<dt id="inspect.Signature.replace">
<code class="descname">replace</code><span class="sig-paren">(</span><em>*[, parameters][, return_annotation]</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Signature.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Create a new Signature instance based on the instance replace was invoked
on.  It is possible to pass different <code class="docutils literal"><span class="pre">parameters</span></code> and/or
<code class="docutils literal"><span class="pre">return_annotation</span></code> to override the corresponding properties of the base
signature.  To remove return_annotation from the copied Signature, pass in
<a class="reference internal" href="#inspect.Signature.empty" title="inspect.Signature.empty"><code class="xref py py-attr docutils literal"><span class="pre">Signature.empty</span></code></a>.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_sig</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">return_annotation</span><span class="o">=</span><span class="s">&quot;new return anno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">new_sig</span><span class="p">)</span>
<span class="go">&quot;(a, b) -&gt; &#39;new return anno&#39;&quot;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="inspect.Parameter">
<em class="property">class </em><code class="descclassname">inspect.</code><code class="descname">Parameter</code><span class="sig-paren">(</span><em>name</em>, <em>kind</em>, <em>*</em>, <em>default=Parameter.empty</em>, <em>annotation=Parameter.empty</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Parameter" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Parameter objects are <em>immutable</em>.  Instead of modifying a Parameter object,
you can use <a class="reference internal" href="#inspect.Parameter.replace" title="inspect.Parameter.replace"><code class="xref py py-meth docutils literal"><span class="pre">Parameter.replace()</span></code></a> to create a modified copy.</p>
<dl class="attribute">
<dt id="inspect.Parameter.empty">
<code class="descname">empty</code><a class="headerlink" href="#inspect.Parameter.empty" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>A special class-level marker to specify absence of default values and
annotations.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Parameter.name">
<code class="descname">name</code><a class="headerlink" href="#inspect.Parameter.name" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The name of the parameter as a string.  Must be a valid python identifier
name (with the exception of <code class="docutils literal"><span class="pre">POSITIONAL_ONLY</span></code> parameters, which can have
it set to <code class="docutils literal"><span class="pre">None</span></code>).</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Parameter.default">
<code class="descname">default</code><a class="headerlink" href="#inspect.Parameter.default" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The default value for the parameter.  If the parameter has no default
value, this attribute is set to <a class="reference internal" href="#inspect.Parameter.empty" title="inspect.Parameter.empty"><code class="xref py py-attr docutils literal"><span class="pre">Parameter.empty</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Parameter.annotation">
<code class="descname">annotation</code><a class="headerlink" href="#inspect.Parameter.annotation" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The annotation for the parameter.  If the parameter has no annotation,
this attribute is set to <a class="reference internal" href="#inspect.Parameter.empty" title="inspect.Parameter.empty"><code class="xref py py-attr docutils literal"><span class="pre">Parameter.empty</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.Parameter.kind">
<code class="descname">kind</code><a class="headerlink" href="#inspect.Parameter.kind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Describes how argument values are bound to the parameter.  Possible values
(accessible via <a class="reference internal" href="#inspect.Parameter" title="inspect.Parameter"><code class="xref py py-class docutils literal"><span class="pre">Parameter</span></code></a>, like <code class="docutils literal"><span class="pre">Parameter.KEYWORD_ONLY</span></code>):</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">名前</p>
</th>
<th class="head"><p class="first last">意味</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>POSITIONAL_ONLY</em></td>
<td><p class="first">Value must be supplied as a positional
argument.</p>
<p class="last">Python has no explicit syntax for defining
positional-only parameters, but many built-in
and extension module functions (especially
those that accept only one or two parameters)
accept them.</p>
</td>
</tr>
<tr class="row-odd"><td><em>POSITIONAL_OR_KEYWORD</em></td>
<td>Value may be supplied as either a keyword or
positional argument (this is the standard
binding behaviour for functions implemented
in Python.)</td>
</tr>
<tr class="row-even"><td><em>VAR_POSITIONAL</em></td>
<td>A tuple of positional arguments that aren&#8217;t
bound to any other parameter. This
corresponds to a <code class="docutils literal"><span class="pre">*args</span></code> parameter in a
Python function definition.</td>
</tr>
<tr class="row-odd"><td><em>KEYWORD_ONLY</em></td>
<td>Value must be supplied as a keyword argument.
Keyword only parameters are those which
appear after a <code class="docutils literal"><span class="pre">*</span></code> or <code class="docutils literal"><span class="pre">*args</span></code> entry in a
Python function definition.</td>
</tr>
<tr class="row-even"><td><em>VAR_KEYWORD</em></td>
<td>A dict of keyword arguments that aren&#8217;t bound
to any other parameter. This corresponds to a
<code class="docutils literal"><span class="pre">**kwargs</span></code> parameter in a Python function
definition.</td>
</tr>
</tbody>
</table>
<p>Example: print all keyword-only arguments without default values:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">param</span><span class="o">.</span><span class="n">KEYWORD_ONLY</span> <span class="ow">and</span>
<span class="gp">... </span>                       <span class="n">param</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="n">param</span><span class="o">.</span><span class="n">empty</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s">&#39;Parameter:&#39;</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>
<span class="go">Parameter: c</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="inspect.Parameter.replace">
<code class="descname">replace</code><span class="sig-paren">(</span><em>*[, name][, kind][, default][, annotation]</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.Parameter.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Create a new Parameter instance based on the instance replaced was invoked
on.  To override a <a class="reference internal" href="#inspect.Parameter" title="inspect.Parameter"><code class="xref py py-class docutils literal"><span class="pre">Parameter</span></code></a> attribute, pass the corresponding
argument.  To remove a default value or/and an annotation from a
Parameter, pass <a class="reference internal" href="#inspect.Parameter.empty" title="inspect.Parameter.empty"><code class="xref py py-attr docutils literal"><span class="pre">Parameter.empty</span></code></a>.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">inspect</span> <span class="k">import</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">Parameter</span><span class="o">.</span><span class="n">KEYWORD_ONLY</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
<span class="go">&#39;foo=42&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">replace</span><span class="p">())</span> <span class="c"># Will create a shallow copy of &#39;param&#39;</span>
<span class="go">&#39;foo=42&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">Parameter</span><span class="o">.</span><span class="n">empty</span><span class="p">,</span> <span class="n">annotation</span><span class="o">=</span><span class="s">&#39;spam&#39;</span><span class="p">))</span>
<span class="go">&quot;foo:&#39;spam&#39;&quot;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="inspect.BoundArguments">
<em class="property">class </em><code class="descclassname">inspect.</code><code class="descname">BoundArguments</code><a class="headerlink" href="#inspect.BoundArguments" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Result of a <a class="reference internal" href="#inspect.Signature.bind" title="inspect.Signature.bind"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind()</span></code></a> or <a class="reference internal" href="#inspect.Signature.bind_partial" title="inspect.Signature.bind_partial"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind_partial()</span></code></a> call.
Holds the mapping of arguments to the function&#8217;s parameters.</p>
<dl class="attribute">
<dt id="inspect.BoundArguments.arguments">
<code class="descname">arguments</code><a class="headerlink" href="#inspect.BoundArguments.arguments" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>An ordered, mutable mapping (<a class="reference internal" href="collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></code></a>) of
parameters&#8217; names to arguments&#8217; values.  Contains only explicitly bound
arguments.  Changes in <a class="reference internal" href="#inspect.BoundArguments.arguments" title="inspect.BoundArguments.arguments"><code class="xref py py-attr docutils literal"><span class="pre">arguments</span></code></a> will reflect in <a class="reference internal" href="#inspect.BoundArguments.args" title="inspect.BoundArguments.args"><code class="xref py py-attr docutils literal"><span class="pre">args</span></code></a> and
<a class="reference internal" href="#inspect.BoundArguments.kwargs" title="inspect.BoundArguments.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a>.</p>
<p>Should be used in conjunction with <a class="reference internal" href="#inspect.Signature.parameters" title="inspect.Signature.parameters"><code class="xref py py-attr docutils literal"><span class="pre">Signature.parameters</span></code></a> for any
argument processing purposes.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Arguments for which <a class="reference internal" href="#inspect.Signature.bind" title="inspect.Signature.bind"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind()</span></code></a> or
<a class="reference internal" href="#inspect.Signature.bind_partial" title="inspect.Signature.bind_partial"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind_partial()</span></code></a> relied on a default value are skipped.
However, if needed, it is easy to include them.</p>
</div>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">ba</span><span class="o">.</span><span class="n">kwargs</span>
<span class="go">((5,), {})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">param</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ba</span><span class="o">.</span><span class="n">arguments</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">ba</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="n">param</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">default</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ba</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">ba</span><span class="o">.</span><span class="n">kwargs</span>
<span class="go">((5, 10), {})</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="inspect.BoundArguments.args">
<code class="descname">args</code><a class="headerlink" href="#inspect.BoundArguments.args" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>A tuple of positional arguments values.  Dynamically computed from the
<a class="reference internal" href="#inspect.BoundArguments.arguments" title="inspect.BoundArguments.arguments"><code class="xref py py-attr docutils literal"><span class="pre">arguments</span></code></a> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="inspect.BoundArguments.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#inspect.BoundArguments.kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>A dict of keyword arguments values.  Dynamically computed from the
<a class="reference internal" href="#inspect.BoundArguments.arguments" title="inspect.BoundArguments.arguments"><code class="xref py py-attr docutils literal"><span class="pre">arguments</span></code></a> attribute.</p>
</dd></dl>

<p>The <a class="reference internal" href="#inspect.BoundArguments.args" title="inspect.BoundArguments.args"><code class="xref py py-attr docutils literal"><span class="pre">args</span></code></a> and <a class="reference internal" href="#inspect.BoundArguments.kwargs" title="inspect.BoundArguments.kwargs"><code class="xref py py-attr docutils literal"><span class="pre">kwargs</span></code></a> properties can be used to invoke
functions:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
   <span class="o">...</span>

<span class="n">sig</span> <span class="o">=</span> <span class="n">signature</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="n">ba</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">test</span><span class="p">(</span><span class="o">*</span><span class="n">ba</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">ba</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<dl class="last docutils">
<dt><span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0362"><strong>PEP 362</strong></a> - Function Signature Object.</dt>
<dd>The detailed specification, implementation details and examples.</dd>
</dl>
</div>
</div>
<div class="section" id="classes-and-functions">
<span id="inspect-classes-functions"></span><h2>28.12.4. クラスと関数<a class="headerlink" href="#classes-and-functions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="function">
<dt id="inspect.getclasstree">
<code class="descclassname">inspect.</code><code class="descname">getclasstree</code><span class="sig-paren">(</span><em>classes</em>, <em>unique=False</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getclasstree" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リストで指定したクラスの継承関係から、ネストしたリストを作成します。ネストしたリストには、直前の要素から派生したクラスが格納されます。各要素は長さ2のタプルで、クラスと基底クラスのタプルを格納しています。 <em>unique</em> が真の場合、各クラスは戻り値のリスト内に一つだけしか格納されません。真でなければ、多重継承を利用したクラスとその派生クラスは複数回格納される場合があります。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getargspec">
<code class="descclassname">inspect.</code><code class="descname">getargspec</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getargspec" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get the names and default values of a Python function&#8217;s arguments. A
<a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> <code class="docutils literal"><span class="pre">ArgSpec(args,</span> <span class="pre">varargs,</span> <span class="pre">keywords,</span> <span class="pre">defaults)</span></code> is
returned. <em>args</em> is a list of the argument names. <em>varargs</em> and <em>keywords</em>
are the names of the <code class="docutils literal"><span class="pre">*</span></code> and <code class="docutils literal"><span class="pre">**</span></code> arguments or <code class="docutils literal"><span class="pre">None</span></code>. <em>defaults</em> is a
tuple of default argument values or <code class="docutils literal"><span class="pre">None</span></code> if there are no default
arguments; if this tuple has <em>n</em> elements, they correspond to the last
<em>n</em> elements listed in <em>args</em>.</p>
<div class="deprecated">
<p><span class="versionmodified">バージョン 3.0 で撤廃: </span>Use <a class="reference internal" href="#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal"><span class="pre">getfullargspec()</span></code></a> instead, which provides information about
keyword-only arguments and annotations.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getfullargspec">
<code class="descclassname">inspect.</code><code class="descname">getfullargspec</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getfullargspec" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get the names and default values of a Python function&#8217;s arguments.  A
<a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> is returned:</p>
<p><code class="docutils literal"><span class="pre">FullArgSpec(args,</span> <span class="pre">varargs,</span> <span class="pre">varkw,</span> <span class="pre">defaults,</span> <span class="pre">kwonlyargs,</span> <span class="pre">kwonlydefaults,</span>
<span class="pre">annotations)</span></code></p>
<p><em>args</em> is a list of the argument names.  <em>varargs</em> and <em>varkw</em> are the names
of the <code class="docutils literal"><span class="pre">*</span></code> and <code class="docutils literal"><span class="pre">**</span></code> arguments or <code class="docutils literal"><span class="pre">None</span></code>.  <em>defaults</em> is an <em>n</em>-tuple
of the default values of the last <em>n</em> arguments, or <code class="docutils literal"><span class="pre">None</span></code> if there are no
default arguments.  <em>kwonlyargs</em> is a list of
keyword-only argument names.  <em>kwonlydefaults</em> is a dictionary mapping names
from kwonlyargs to defaults.  <em>annotations</em> is a dictionary mapping argument
names to annotations.</p>
<p>The first four items in the tuple correspond to <a class="reference internal" href="#inspect.getargspec" title="inspect.getargspec"><code class="xref py py-func docutils literal"><span class="pre">getargspec()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Consider using the new <a class="reference internal" href="#inspect-signature-object"><span>Signature Object</span></a>
interface, which provides a better way of introspecting functions.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getargvalues">
<code class="descclassname">inspect.</code><code class="descname">getargvalues</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getargvalues" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get information about arguments passed into a particular frame.  A
<a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> <code class="docutils literal"><span class="pre">ArgInfo(args,</span> <span class="pre">varargs,</span> <span class="pre">keywords,</span> <span class="pre">locals)</span></code> is
returned. <em>args</em> is a list of the argument names.  <em>varargs</em> and <em>keywords</em>
are the names of the <code class="docutils literal"><span class="pre">*</span></code> and <code class="docutils literal"><span class="pre">**</span></code> arguments or <code class="docutils literal"><span class="pre">None</span></code>.  <em>locals</em> is the
locals dictionary of the given frame.</p>
</dd></dl>

<dl class="function">
<dt id="inspect.formatargspec">
<code class="descclassname">inspect.</code><code class="descname">formatargspec</code><span class="sig-paren">(</span><em>args</em><span class="optional">[</span>, <em>varargs</em>, <em>varkw</em>, <em>defaults</em>, <em>kwonlyargs</em>, <em>kwonlydefaults</em>, <em>annotations</em><span class="optional">[</span>, <em>formatarg</em>, <em>formatvarargs</em>, <em>formatvarkw</em>, <em>formatvalue</em>, <em>formatreturns</em>, <em>formatannotations</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#inspect.formatargspec" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Format a pretty argument spec from the values returned by
<a class="reference internal" href="#inspect.getargspec" title="inspect.getargspec"><code class="xref py py-func docutils literal"><span class="pre">getargspec()</span></code></a> or <a class="reference internal" href="#inspect.getfullargspec" title="inspect.getfullargspec"><code class="xref py py-func docutils literal"><span class="pre">getfullargspec()</span></code></a>.</p>
<p>The first seven arguments are (<code class="docutils literal"><span class="pre">args</span></code>, <code class="docutils literal"><span class="pre">varargs</span></code>, <code class="docutils literal"><span class="pre">varkw</span></code>,
<code class="docutils literal"><span class="pre">defaults</span></code>, <code class="docutils literal"><span class="pre">kwonlyargs</span></code>, <code class="docutils literal"><span class="pre">kwonlydefaults</span></code>, <code class="docutils literal"><span class="pre">annotations</span></code>). The
other five arguments are the corresponding optional formatting functions
that are called to turn names and values into strings. The last argument
is an optional function to format the sequence of arguments. For example:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">inspect</span> <span class="k">import</span> <span class="n">formatargspec</span><span class="p">,</span> <span class="n">getfullargspec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">formatargspec</span><span class="p">(</span><span class="o">*</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">&#39;(a: int, b: float)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.formatargvalues">
<code class="descclassname">inspect.</code><code class="descname">formatargvalues</code><span class="sig-paren">(</span><em>args</em><span class="optional">[</span>, <em>varargs</em>, <em>varkw</em>, <em>locals</em>, <em>formatarg</em>, <em>formatvarargs</em>, <em>formatvarkw</em>, <em>formatvalue</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#inspect.formatargvalues" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#inspect.getargvalues" title="inspect.getargvalues"><code class="xref py py-func docutils literal"><span class="pre">getargvalues()</span></code></a> で取得した4つの値を読みやすく整形します。 format* 引数はオプションで、名前と値を文字列に変換する整形関数を指定することができます。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getmro">
<code class="descclassname">inspect.</code><code class="descname">getmro</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getmro" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>cls</em> クラスの基底クラス (<em>cls</em> 自身も含む) を、メソッドの優先順位順に並べたタプルを返します。結果のリスト内で各クラスは一度だけ格納されます。メソッドの優先順位はクラスの型によって異なります。非常に特殊なユーザ定義のメタクラスを使用していない限り、 <em>cls</em> が戻り値の先頭要素となります。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getcallargs">
<code class="descclassname">inspect.</code><code class="descname">getcallargs</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getcallargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>args</em> と <em>kwds</em> を、 Python の関数もしくはメソッド <em>func</em> を呼び出した場合と同じように引数名に束縛します。束縛済みメソッド(bound method)の場合、最初の引数(慣習的に <code class="docutils literal"><span class="pre">self</span></code> という名前が付けられます)にも、関連づけられたインスタンスを束縛します。引数名 (<code class="docutils literal"><span class="pre">*</span></code> や <code class="docutils literal"><span class="pre">**</span></code> 引数が存在すればその名前も) に <em>args</em> と <em>kwds</em> からの値をマップした辞書を返します。 <em>func</em> を正しく呼び出せない場合、つまり <code class="docutils literal"><span class="pre">func(*args,</span> <span class="pre">**kwds)</span></code> がシグネチャの不一致のために例外を投げるような場合には、それと同じ型で同じか似ているメッセージの例外を発生させます。例:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">inspect</span> <span class="k">import</span> <span class="n">getcallargs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">pos</span><span class="p">,</span> <span class="o">**</span><span class="n">named</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getcallargs</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;pos&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getcallargs</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;pos&#39;</span><span class="p">:</span> <span class="p">()}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">getcallargs</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">f() missing 1 required positional argument: &#39;a&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.2 で追加.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Consider using the new <a class="reference internal" href="#inspect.Signature.bind" title="inspect.Signature.bind"><code class="xref py py-meth docutils literal"><span class="pre">Signature.bind()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.getclosurevars">
<code class="descclassname">inspect.</code><code class="descname">getclosurevars</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getclosurevars" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get the mapping of external name references in a Python function or
method <em>func</em> to their current values. A
<a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">named tuple</span></a> <code class="docutils literal"><span class="pre">ClosureVars(nonlocals,</span> <span class="pre">globals,</span> <span class="pre">builtins,</span> <span class="pre">unbound)</span></code>
is returned. <em>nonlocals</em> maps referenced names to lexical closure
variables, <em>globals</em> to the function&#8217;s module globals and <em>builtins</em> to
the builtins visible from the function body. <em>unbound</em> is the set of names
referenced in the function that could not be resolved at all given the
current module globals and builtins.</p>
<p><a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> is raised if <em>func</em> is not a Python function or method.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.3 で追加.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="the-interpreter-stack">
<span id="inspect-stack"></span><h2>28.12.5. インタープリタスタック<a class="headerlink" href="#the-interpreter-stack" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の関数には、戻り値として&#8221;フレームレコード&#8221;を返す関数があります。 &#8220;フレームレコード&#8221;は長さ6のタプルで、以下の値を格納しています: フレームオブジェクト、ファイル名、実行中の行番号、関数名、コンテキストのソース行のリスト、ソース行のリストにおける実行中の行のインデックス。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p>フレームレコードの最初の要素などのフレームオブジェクトへの参照を保存すると、循環参照になってしまう場合があります。循環参照ができると、 Python の循環参照検出機能を有効にしていたとしても関連するオブジェクトが参照しているすべてのオブジェクトが解放されにくくなり、明示的に参照を削除しないとメモリ消費量が増大する恐れがあります。</p>
<p>参照の削除を Python の循環参照検出機能にまかせることもできますが、 <a class="reference internal" href="../reference/compound_stmts.html#finally"><code class="xref std std-keyword docutils literal"><span class="pre">finally</span></code></a> 節で循環参照を解除すれば確実にフレーム (とそのローカル変数) は削除されます。また、循環参照検出機能は Python のコンパイルオプションや <a class="reference internal" href="gc.html#gc.disable" title="gc.disable"><code class="xref py py-func docutils literal"><span class="pre">gc.disable()</span></code></a> で無効とされている場合がありますので注意が必要です。例:</p>
<div class="last highlight-python3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">handle_stackframe_without_leak</span><span class="p">():</span>
    <span class="n">frame</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c"># do something with the frame</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">del</span> <span class="n">frame</span>
</pre></div>
</div>
</div>
<p>以下の関数でオプション引数 <em>context</em> には、戻り値のソース行リストに何行分のソースを含めるかを指定します。ソース行リストには、実行中の行を中心として指定された行数分のリストを返します。</p>
<dl class="function">
<dt id="inspect.getframeinfo">
<code class="descclassname">inspect.</code><code class="descname">getframeinfo</code><span class="sig-paren">(</span><em>frame</em>, <em>context=1</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getframeinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>フレームまたはトレースバックオブジェクトの情報を取得します。 <a class="reference internal" href="../glossary.html#term-named-tuple"><span class="xref std std-term">名前付きタプル</span></a> <code class="docutils literal"><span class="pre">Traceback(filename,</span> <span class="pre">lineno,</span> <span class="pre">function,</span> <span class="pre">code_context,</span> <span class="pre">index)</span></code> が返されます。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getouterframes">
<code class="descclassname">inspect.</code><code class="descname">getouterframes</code><span class="sig-paren">(</span><em>frame</em>, <em>context=1</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getouterframes" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定したフレームと、その外側の全フレームのフレームレコードを返します。外側のフレームとは <em>frame</em> が生成されるまでのすべての関数呼び出しを示します。戻り値のリストの先頭は <em>frame</em> のフレームレコードで、末尾の要素は <em>frame</em> のスタックにある最も外側のフレームのフレームレコードとなります。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.getinnerframes">
<code class="descclassname">inspect.</code><code class="descname">getinnerframes</code><span class="sig-paren">(</span><em>traceback</em>, <em>context=1</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getinnerframes" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定したフレームと、その内側の全フレームのフレームレコードを返します。内のフレームとは <em>frame</em> から続く一連の関数呼び出しを示します。戻り値のリストの先頭は <em>traceback</em> のフレームレコードで、末尾の要素は例外が発生した位置を示します。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.currentframe">
<code class="descclassname">inspect.</code><code class="descname">currentframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#inspect.currentframe" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>呼び出し元のフレームオブジェクトを返します。</p>
<div class="impl-detail compound">
<p>この関数はインタプリタの Python スタックフレームサポートに依存します。これは Python のすべての実装に存在している保証はありません。 Python スタックフレームサポートのない環境では、この関数は <code class="docutils literal"><span class="pre">None</span></code> を返します。</p>
</div>
</dd></dl>

<dl class="function">
<dt id="inspect.stack">
<code class="descclassname">inspect.</code><code class="descname">stack</code><span class="sig-paren">(</span><em>context=1</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.stack" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>呼び出し元スタックのフレームレコードのリストを返します。最初の要素は呼び出し元のフレームレコードで、末尾の要素はスタックにある最も外側のフレームのフレームレコードとなります。</p>
</dd></dl>

<dl class="function">
<dt id="inspect.trace">
<code class="descclassname">inspect.</code><code class="descname">trace</code><span class="sig-paren">(</span><em>context=1</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.trace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>実行中のフレームと処理中の例外が発生したフレームの間のフレームレコードのリストを返します。最初の要素は呼び出し元のフレームレコードで、末尾の要素は例外が発生した位置を示します。</p>
</dd></dl>

</div>
<div class="section" id="fetching-attributes-statically">
<h2>28.12.6. Fetching attributes statically<a class="headerlink" href="#fetching-attributes-statically" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Both <a class="reference internal" href="functions.html#getattr" title="getattr"><code class="xref py py-func docutils literal"><span class="pre">getattr()</span></code></a> and <a class="reference internal" href="functions.html#hasattr" title="hasattr"><code class="xref py py-func docutils literal"><span class="pre">hasattr()</span></code></a> can trigger code execution when
fetching or checking for the existence of attributes. Descriptors, like
properties, will be invoked and <a class="reference internal" href="../reference/datamodel.html#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a> and <a class="reference internal" href="../reference/datamodel.html#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a>
may be called.</p>
<p>For cases where you want passive introspection, like documentation tools, this
can be inconvenient. <a class="reference internal" href="#inspect.getattr_static" title="inspect.getattr_static"><code class="xref py py-func docutils literal"><span class="pre">getattr_static()</span></code></a> has the same signature as <a class="reference internal" href="functions.html#getattr" title="getattr"><code class="xref py py-func docutils literal"><span class="pre">getattr()</span></code></a>
but avoids executing code when it fetches attributes.</p>
<dl class="function">
<dt id="inspect.getattr_static">
<code class="descclassname">inspect.</code><code class="descname">getattr_static</code><span class="sig-paren">(</span><em>obj</em>, <em>attr</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getattr_static" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Retrieve attributes without triggering dynamic lookup via the
descriptor protocol, <a class="reference internal" href="../reference/datamodel.html#object.__getattr__" title="object.__getattr__"><code class="xref py py-meth docutils literal"><span class="pre">__getattr__()</span></code></a> or <a class="reference internal" href="../reference/datamodel.html#object.__getattribute__" title="object.__getattribute__"><code class="xref py py-meth docutils literal"><span class="pre">__getattribute__()</span></code></a>.</p>
<p>Note: this function may not be able to retrieve all attributes
that getattr can fetch (like dynamically created attributes)
and may find attributes that getattr can&#8217;t (like descriptors
that raise AttributeError). It can also return descriptors objects
instead of instance members.</p>
<p>If the instance <a class="reference internal" href="stdtypes.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal"><span class="pre">__dict__</span></code></a> is shadowed by another member (for
example a property) then this function will be unable to find instance
members.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.2 で追加.</span></p>
</div>
</dd></dl>

<p><a class="reference internal" href="#inspect.getattr_static" title="inspect.getattr_static"><code class="xref py py-func docutils literal"><span class="pre">getattr_static()</span></code></a> does not resolve descriptors, for example slot descriptors or
getset descriptors on objects implemented in C. The descriptor object
is returned instead of the underlying attribute.</p>
<p>You can handle these with code like the following. Note that
for arbitrary getset descriptors invoking these may trigger
code execution:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="c"># example code for resolving the builtin descriptor types</span>
<span class="k">class</span> <span class="nc">_foo</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>

<span class="n">slot_descriptor</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">_foo</span><span class="o">.</span><span class="n">foo</span><span class="p">)</span>
<span class="n">getset_descriptor</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">wrapper_descriptor</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">__dict__</span><span class="p">[</span><span class="s">&#39;__add__&#39;</span><span class="p">])</span>
<span class="n">descriptor_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">slot_descriptor</span><span class="p">,</span> <span class="n">getset_descriptor</span><span class="p">,</span> <span class="n">wrapper_descriptor</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">getattr_static</span><span class="p">(</span><span class="n">some_object</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="ow">in</span> <span class="n">descriptor_types</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">__get__</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="c"># descriptors can raise AttributeError to</span>
        <span class="c"># indicate there is no underlying value</span>
        <span class="c"># in which case the descriptor itself will</span>
        <span class="c"># have to do</span>
        <span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="section" id="current-state-of-a-generator">
<h2>28.12.7. Current State of a Generator<a class="headerlink" href="#current-state-of-a-generator" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>When implementing coroutine schedulers and for other advanced uses of
generators, it is useful to determine whether a generator is currently
executing, is waiting to start or resume or execution, or has already
terminated. <a class="reference internal" href="#inspect.getgeneratorstate" title="inspect.getgeneratorstate"><code class="xref py py-func docutils literal"><span class="pre">getgeneratorstate()</span></code></a> allows the current state of a
generator to be determined easily.</p>
<dl class="function">
<dt id="inspect.getgeneratorstate">
<code class="descclassname">inspect.</code><code class="descname">getgeneratorstate</code><span class="sig-paren">(</span><em>generator</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getgeneratorstate" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get current state of a generator-iterator.</p>
<dl class="docutils">
<dt>Possible states are:</dt>
<dd><ul class="first last simple">
<li>GEN_CREATED: Waiting to start execution.</li>
<li>GEN_RUNNING: Currently being executed by the interpreter.</li>
<li>GEN_SUSPENDED: Currently suspended at a yield expression.</li>
<li>GEN_CLOSED: Execution has completed.</li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.2 で追加.</span></p>
</div>
</dd></dl>

<p>The current internal state of the generator can also be queried. This is
mostly useful for testing purposes, to ensure that internal state is being
updated as expected:</p>
<dl class="function">
<dt id="inspect.getgeneratorlocals">
<code class="descclassname">inspect.</code><code class="descname">getgeneratorlocals</code><span class="sig-paren">(</span><em>generator</em><span class="sig-paren">)</span><a class="headerlink" href="#inspect.getgeneratorlocals" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Get the mapping of live local variables in <em>generator</em> to their current
values.  A dictionary is returned that maps from variable names to values.
This is the equivalent of calling <a class="reference internal" href="functions.html#locals" title="locals"><code class="xref py py-func docutils literal"><span class="pre">locals()</span></code></a> in the body of the
generator, and all the same caveats apply.</p>
<p>If <em>generator</em> is a <a class="reference internal" href="../glossary.html#term-generator"><span class="xref std std-term">generator</span></a> with no currently associated frame,
then an empty dictionary is returned.  <a class="reference internal" href="exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code></a> is raised if
<em>generator</em> is not a Python generator object.</p>
<div class="impl-detail compound">
<p><strong>CPython implementation detail:</strong> This function relies on the generator exposing a Python stack frame
for introspection, which isn&#8217;t guaranteed to be the case in all
implementations of Python. In such cases, this function will always
return an empty dictionary.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.3 で追加.</span></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">28.12. <code class="docutils literal"><span class="pre">inspect</span></code> &#8212; 活動中のオブジェクトの情報を取得する</a><ul>
<li><a class="reference internal" href="#types-and-members">28.12.1. 型とメンバー</a></li>
<li><a class="reference internal" href="#retrieving-source-code">28.12.2. ソースコードの情報取得</a></li>
<li><a class="reference internal" href="#introspecting-callables-with-the-signature-object">28.12.3. Introspecting callables with the Signature object</a></li>
<li><a class="reference internal" href="#classes-and-functions">28.12.4. クラスと関数</a></li>
<li><a class="reference internal" href="#the-interpreter-stack">28.12.5. インタープリタスタック</a></li>
<li><a class="reference internal" href="#fetching-attributes-statically">28.12.6. Fetching attributes statically</a></li>
<li><a class="reference internal" href="#current-state-of-a-generator">28.12.7. Current State of a Generator</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="gc.html"
                        title="前の章へ">28.11. <code class="docutils literal"><span class="pre">gc</span></code> &#8212; ガベージコレクタインターフェース</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="site.html"
                        title="次の章へ">28.13. <code class="docutils literal"><span class="pre">site</span></code> &#8212; サイト固有の設定フック</a></p>
<h3>このページ</h3>
<ul class="this-page-menu">
  <li><a href="../bugs.html">Report a Bug</a></li>
  <li><a href="../_sources/library/inspect.txt"
         rel="nofollow">Show Source</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="site.html" title="28.13. site — サイト固有の設定フック"
             >次へ</a> |</li>
        <li class="right" >
          <a href="gc.html" title="28.11. gc — ガベージコレクタインターフェース"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="http://www.python.org/">Python</a> &raquo;</li>
        <li>
          <span class="version_switcher_placeholder">3.3.6</span>
          <a href="../index.html">Documentation</a> &raquo;
        </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="python.html" >28. Python ランタイムサービス</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 1990-2015, Python Software Foundation.
    <br />
    The Python Software Foundation is a non-profit corporation.
    <a href="http://www.python.org/psf/donations/">Please donate.</a>
    <br />
    Last updated on Dec 28, 2015.
    <a href="../bugs.html">Found a bug</a>?
    <br />
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    <br />
    <a href="https://github.com/python-doc-ja/python-doc-ja">Pythonドキュメント日本語翻訳プロジェクト</a>
    によって翻訳されました。
    <a href="https://github.com/python-doc-ja/python-doc-ja/issues">誤訳を報告する。</a>
    </div>

  </body>
</html>